{
  "scopeName": "source.ayla",
  "patterns": [
    { "include": "#comments" },
    { "include": "#keywords" },
    { "include": "#control" },
    { "include": "#struct-declaration" },
    { "include": "#struct-member" },
    { "include": "#type-usage" },
    { "include": "#functions"},
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#operators" },
    { "include": "#constants" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.ayla",
          "match": "//.*$"
        },

        {
          "name": "comment.block.ayla",
          "begin": "/\\*",
          "end": "\\*/"
        }
      ]
    },

    "keywords": {
      "patterns": [
        {
          "name": "keyword.declaration.ayla",
          "match": "\\b(egg|rock|fun|type|struct|enum|int|float|string|bool|thing|map)\\b"
        }
      ]
    },

    "control": {
      "patterns": [
        {
          "name": "keyword.control.ayla",
          "match": "\\b(ayla|elen|four|why|back|kitkat|next|decide|when|otherwise|spawn|with|it|in|range)\\b"
        }
      ]
    },

    "struct-declaration": {
      "patterns": [
        {
          "name": "meta.struct.ayla",
          "match": "\\b(struct)\\s+([A-Z][a-zA-Z0-9_]*)",
          "captures": {
            "1": { "name": "keyword.declaration.ayla" },
            "2": { "name": "entity.name.type.ayla" }
          }
        }
      ]
    },

    "type-usage": {
      "patterns": [
        {
          "name": "entity.name.type.ayla",
          "match": "\\b[A-Z][a-zA-Z0-9_]*\\b"
        }
      ]
    },

    "struct-member": {
      "patterns": [
        {
          "name": "variable.other.member.ayla",
          "match": "(?<=\\.)[a-zA-Z_][a-zA-Z0-9_]*"
        }
      ]
    },

    "functions": {
      "patterns": [
        {
          "name": "entity.name.function.ayla",
          "match": "\\b[a-zA-Z_][a-zA-Z0-9_]*\\b(?=\\s*\\()"
        }
      ]
    },

    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.ayla",
          "match": "\".*?\""
        }
      ]
    },

    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.ayla",
          "match": "\\b\\d+\\b"
        }
      ]
    },

    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.ayla",
          "match": "(\\+|\\-|\\*|\\/|==|=|<=|>=|<|>|&&|!|:=|\\[]|\\|\\|)"
        }
      ]
    },

    "constants": {
      "patterns": [
        {
          "name": "constant.language.boolean.ayla",
          "match": "\\b(yes|no)\\b"
        },

        {
          "name": "constant.language.ayla",
          "match": "\\b(nil)\\b"
        }
      ]
    }
  }
}
